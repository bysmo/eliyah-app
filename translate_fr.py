#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Script de traduction automatique pour le fichier fr.json
"""

import json
import re

# Dictionnaire de traduction des termes courants
translations = {
    # Verbes
    "Add": "Ajouter",
    "Added": "AjoutÃ©",
    "Apply": "Appliquer",
    "Cancel": "Annuler",
    "Cancelled": "AnnulÃ©",
    "Change": "Changer",
    "Choose": "Choisir",
    "Close": "Fermer",
    "Closed": "FermÃ©",
    "Complete": "Complet",
    "Completed": "TerminÃ©",
    "Confirm": "Confirmer",
    "Confirmed": "ConfirmÃ©",
    "Continue": "Continuer",
    "Convert": "Convertir",
    "Converted": "Converti",
    "Copy": "Copier",
    "Copied": "CopiÃ©",
    "Delete": "Supprimer",
    "Deleted": "SupprimÃ©",
    "Deliver": "Livrer",
    "Delivered": "LivrÃ©",
    "Download": "TÃ©lÃ©charger",
    "Edit": "Modifier",
    "Enter": "Entrer",
    "Enjoy": "Profiter",
    "Explore": "Explorer",
    "Failed": "Ã‰chouÃ©",
    "Filter": "Filtrer",
    "Find": "Trouver",
    "Follow": "Suivre",
    "Get": "Obtenir",
    "Give": "Donner",
    "Join": "Rejoindre",
    "Login": "Connexion",
    "Logout": "DÃ©connexion",
    "Order": "Commander",
    "Ordered": "CommandÃ©",
    "Pay": "Payer",
    "Paid": "PayÃ©",
    "Pending": "En attente",
    "Pick": "Choisir",
    "Picked": "Choisi",
    "Place": "Placer",
    "Placed": "PlacÃ©",
    "Please": "Veuillez",
    "Processing": "En cours",
    "Provide": "Fournir",
    "Rate": "Noter",
    "Rating": "Ã‰valuation",
    "Ratings": "Ã‰valuations",
    "Received": "ReÃ§u",
    "Receiver": "Destinataire",
    "Refund": "Remboursement",
    "Refunded": "RemboursÃ©",
    "Register": "S'inscrire",
    "Registration": "Inscription",
    "Remove": "Retirer",
    "Removed": "RetirÃ©",
    "Request": "Demande",
    "Requested": "DemandÃ©",
    "Reset": "RÃ©initialiser",
    "Resend": "Renvoyer",
    "Retry": "RÃ©essayer",
    "Return": "Retour",
    "Returned": "RetournÃ©",
    "Review": "Avis",
    "Save": "Enregistrer",
    "Saved": "EnregistrÃ©",
    "Search": "Rechercher",
    "See": "Voir",
    "Select": "SÃ©lectionner",
    "Selected": "SÃ©lectionnÃ©",
    "Send": "Envoyer",
    "Sender": "ExpÃ©diteur",
    "Set": "DÃ©finir",
    "Share": "Partager",
    "Sign": "Signer",
    "Skip": "Passer",
    "Start": "Commencer",
    "Submit": "Soumettre",
    "Submitted": "Soumis",
    "Subscribe": "S'abonner",
    "Subscribed": "AbonnÃ©",
    "Switch": "Basculer",
    "Track": "Suivre",
    "Tracking": "Suivi",
    "Update": "Mettre Ã  jour",
    "Updated": "Mis Ã  jour",
    "Upload": "TÃ©lÃ©charger",
    "Uploaded": "TÃ©lÃ©chargÃ©",
    "Use": "Utiliser",
    "Used": "UtilisÃ©",
    "Verify": "VÃ©rifier",
    "Verified": "VÃ©rifiÃ©",
    "View": "Voir",
    "Wait": "Attendre",
    "Waiting": "En attente",
    "Write": "Ã‰crire",
    
    # Noms
    "Account": "Compte",
    "Address": "Adresse",
    "Addresses": "Adresses",
    "Admin": "Administrateur",
    "Amount": "Montant",
    "Available": "Disponible",
    "Balance": "Solde",
    "Bank": "Banque",
    "Basic": "Basique",
    "Bill": "Facture",
    "Billing": "Facturation",
    "Booking": "RÃ©servation",
    "Business": "Entreprise",
    "Campaign": "Campagne",
    "Campaigns": "Campagnes",
    "Car": "Voiture",
    "Cart": "Panier",
    "Cash": "EspÃ¨ces",
    "Categories": "CatÃ©gories",
    "Category": "CatÃ©gorie",
    "Certificate": "Certificat",
    "Charge": "Frais",
    "Chat": "Discussion",
    "Checkout": "Paiement",
    "City": "Ville",
    "Code": "Code",
    "Comment": "Commentaire",
    "Comments": "Commentaires",
    "Contact": "Contact",
    "Conversation": "Conversation",
    "Cost": "CoÃ»t",
    "Coupon": "Coupon",
    "Cover": "Couverture",
    "Credit": "CrÃ©dit",
    "Currency": "Devise",
    "Customer": "Client",
    "Customers": "Clients",
    "Date": "Date",
    "Day": "Jour",
    "Days": "Jours",
    "Debit": "DÃ©bit",
    "Default": "Par dÃ©faut",
    "Delivery": "Livraison",
    "Deliveryman": "Livreur",
    "Description": "Description",
    "Destination": "Destination",
    "Details": "DÃ©tails",
    "Direction": "Direction",
    "Discount": "RÃ©duction",
    "Discounted": "RÃ©duit",
    "Distance": "Distance",
    "Driver": "Chauffeur",
    "Duration": "DurÃ©e",
    "Earnings": "Gains",
    "Email": "E-mail",
    "Error": "Erreur",
    "Estimate": "Estimation",
    "Estimated": "EstimÃ©",
    "Expire": "Expiration",
    "Favorite": "Favori",
    "Favourite": "Favori",
    "Featured": "En vedette",
    "Fee": "Frais",
    "Filter": "Filtre",
    "Floor": "Ã‰tage",
    "Food": "Nourriture",
    "Free": "Gratuit",
    "Freelancer": "IndÃ©pendant",
    "General": "GÃ©nÃ©ral",
    "Guest": "InvitÃ©",
    "Help": "Aide",
    "History": "Historique",
    "Home": "Accueil",
    "Hour": "Heure",
    "Hourly": "Horaire",
    "Hours": "Heures",
    "House": "Maison",
    "ID": "ID",
    "Identity": "IdentitÃ©",
    "Image": "Image",
    "Images": "Images",
    "Information": "Information",
    "Inside": "Ã€ l'intÃ©rieur",
    "Instant": "InstantanÃ©",
    "Invalid": "Invalide",
    "Invite": "Inviter",
    "Item": "Article",
    "Items": "Articles",
    "Kilometer": "KilomÃ¨tre",
    "Label": "Ã‰tiquette",
    "Language": "Langue",
    "Latitude": "Latitude",
    "License": "Licence",
    "Link": "Lien",
    "Links": "Liens",
    "List": "Liste",
    "Live": "En direct",
    "Location": "Emplacement",
    "Logo": "Logo",
    "Longitude": "Longitude",
    "Loyalty": "FidÃ©litÃ©",
    "Mail": "Courrier",
    "Map": "Carte",
    "Maximum": "Maximum",
    "Menu": "Menu",
    "Message": "Message",
    "Messages": "Messages",
    "Method": "MÃ©thode",
    "Minimum": "Minimum",
    "Minute": "Minute",
    "Minutes": "Minutes",
    "Model": "ModÃ¨le",
    "Module": "Module",
    "Modules": "Modules",
    "Money": "Argent",
    "Month": "Mois",
    "Name": "Nom",
    "Nearby": "Ã€ proximitÃ©",
    "Nearest": "Plus proche",
    "New": "Nouveau",
    "News": "ActualitÃ©s",
    "Newsletter": "Newsletter",
    "Next": "Suivant",
    "No": "Non",
    "Note": "Note",
    "Notes": "Notes",
    "Nothing": "Rien",
    "Notification": "Notification",
    "Notifications": "Notifications",
    "Now": "Maintenant",
    "Number": "NumÃ©ro",
    "Office": "Bureau",
    "Offline": "Hors ligne",
    "Ongoing": "En cours",
    "Online": "En ligne",
    "Open": "Ouvrir",
    "Opened": "Ouvert",
    "Opinion": "Opinion",
    "Option": "Option",
    "Options": "Options",
    "Optional": "Optionnel",
    "Order": "Commande",
    "Orders": "Commandes",
    "Others": "Autres",
    "Outside": "Ã€ l'extÃ©rieur",
    "Owner": "PropriÃ©taire",
    "Parcel": "Colis",
    "Partial": "Partiel",
    "Passport": "Passeport",
    "Password": "Mot de passe",
    "Past": "PassÃ©",
    "Payment": "Paiement",
    "Payments": "Paiements",
    "Person": "Personne",
    "Phone": "TÃ©lÃ©phone",
    "Photo": "Photo",
    "Pickup": "Ramassage",
    "Place": "Lieu",
    "Platform": "Plateforme",
    "Point": "Point",
    "Points": "Points",
    "Policy": "Politique",
    "Popular": "Populaire",
    "Popularity": "PopularitÃ©",
    "Preference": "PrÃ©fÃ©rence",
    "Premium": "Premium",
    "Prescription": "Ordonnance",
    "Price": "Prix",
    "Privacy": "ConfidentialitÃ©",
    "Problem": "ProblÃ¨me",
    "Process": "Processus",
    "Product": "Produit",
    "Products": "Produits",
    "Profile": "Profil",
    "Promo": "Promo",
    "Promotional": "Promotionnel",
    "Provider": "Fournisseur",
    "Providers": "Fournisseurs",
    "Purchase": "Achat",
    "Quantity": "QuantitÃ©",
    "Quick": "Rapide",
    "Range": "Gamme",
    "Reason": "Raison",
    "Reasons": "Raisons",
    "Receiver": "Destinataire",
    "Recommended": "RecommandÃ©",
    "Recommendations": "Recommandations",
    "Refer": "Parrainer",
    "Referral": "Parrainage",
    "Refund": "Remboursement",
    "Registration": "Inscription",
    "Rent": "Location",
    "Rental": "Location",
    "Required": "Requis",
    "Restaurant": "Restaurant",
    "Restaurants": "Restaurants",
    "Result": "RÃ©sultat",
    "Results": "RÃ©sultats",
    "Ride": "Course",
    "Road": "Route",
    "Route": "ItinÃ©raire",
    "Running": "En cours",
    "Salary": "Salaire",
    "Same": "MÃªme",
    "Schedule": "Horaire",
    "Scheduled": "ProgrammÃ©",
    "Seat": "SiÃ¨ge",
    "Seller": "Vendeur",
    "Sender": "ExpÃ©diteur",
    "Service": "Service",
    "Services": "Services",
    "Settings": "ParamÃ¨tres",
    "Share": "Partager",
    "Sharing": "Partage",
    "Shipping": "ExpÃ©dition",
    "Shop": "Boutique",
    "Shopping": "Achats",
    "Since": "Depuis",
    "Social": "Social",
    "Something": "Quelque chose",
    "Sorry": "DÃ©solÃ©",
    "Special": "SpÃ©cial",
    "Standard": "Standard",
    "Status": "Statut",
    "Stock": "Stock",
    "Store": "Magasin",
    "Stores": "Magasins",
    "Street": "Rue",
    "Subscription": "Abonnement",
    "Subtotal": "Sous-total",
    "Success": "SuccÃ¨s",
    "Successful": "RÃ©ussi",
    "Successfully": "Avec succÃ¨s",
    "Suggestion": "Suggestion",
    "Suggestions": "Suggestions",
    "Support": "Support",
    "Tax": "Taxe",
    "Taxi": "Taxi",
    "Terms": "Conditions",
    "Theme": "ThÃ¨me",
    "Time": "Heure",
    "Tips": "Pourboires",
    "Today": "Aujourd'hui",
    "Tomorrow": "Demain",
    "Total": "Total",
    "Track": "Suivre",
    "Transaction": "Transaction",
    "Transactions": "Transactions",
    "Trip": "Trajet",
    "Trips": "Trajets",
    "Trusted": "De confiance",
    "Type": "Type",
    "Unavailable": "Indisponible",
    "Under": "Sous",
    "Unpaid": "ImpayÃ©",
    "Until": "Jusqu'Ã ",
    "Valid": "Valide",
    "Variation": "Variation",
    "Variations": "Variations",
    "VAT": "TVA",
    "Vehicle": "VÃ©hicule",
    "Vehicles": "VÃ©hicules",
    "Vendor": "Vendeur",
    "Verification": "VÃ©rification",
    "Version": "Version",
    "Video": "VidÃ©o",
    "Voice": "Voix",
    "Volume": "Volume",
    "Voucher": "Bon",
    "Wallet": "Portefeuille",
    "Warning": "Avertissement",
    "Way": "Chemin",
    "Week": "Semaine",
    "Whatsapp": "Whatsapp",
    "Wish": "Souhait",
    "Year": "AnnÃ©e",
    "Yes": "Oui",
    "Zone": "Zone",
    
    # Expressions courantes
    "Add to cart": "Ajouter au panier",
    "Already added": "DÃ©jÃ  ajoutÃ©",
    "Are you sure": "ÃŠtes-vous sÃ»r",
    "Back to": "Retour Ã ",
    "Cash on delivery": "Paiement Ã  la livraison",
    "Contact person": "Personne de contact",
    "Credit card": "Carte de crÃ©dit",
    "Dark mode": "Mode sombre",
    "Dark theme": "ThÃ¨me sombre",
    "Digital payment": "Paiement numÃ©rique",
    "First name": "PrÃ©nom",
    "First order": "PremiÃ¨re commande",
    "Free delivery": "Livraison gratuite",
    "Guest mode": "Mode invitÃ©",
    "Home delivery": "Livraison Ã  domicile",
    "Identity number": "NumÃ©ro d'identitÃ©",
    "Identity type": "Type d'identitÃ©",
    "In stock": "En stock",
    "Item price": "Prix de l'article",
    "Last name": "Nom de famille",
    "Live chat": "Chat en direct",
    "My account": "Mon compte",
    "My address": "Mon adresse",
    "My cart": "Mon panier",
    "My orders": "Mes commandes",
    "My wallet": "Mon portefeuille",
    "New password": "Nouveau mot de passe",
    "No data found": "Aucune donnÃ©e trouvÃ©e",
    "Not available": "Non disponible",
    "Not found": "Non trouvÃ©",
    "Not now": "Pas maintenant",
    "Not provided": "Non fourni",
    "Order amount": "Montant de la commande",
    "Order details": "DÃ©tails de la commande",
    "Order ID": "ID de commande",
    "Order now": "Commander maintenant",
    "Order tracking": "Suivi de commande",
    "Out of stock": "Rupture de stock",
    "Past trips": "Trajets passÃ©s",
    "Phone number": "NumÃ©ro de tÃ©lÃ©phone",
    "Place order": "Passer commande",
    "Please enter": "Veuillez entrer",
    "Please select": "Veuillez sÃ©lectionner",
    "Popular items": "Articles populaires",
    "Promo code": "Code promo",
    "Quick contact": "Contact rapide",
    "Quick links": "Liens rapides",
    "Refer code": "Code de parrainage",
    "Reset password": "RÃ©initialiser le mot de passe",
    "Ride sharing": "Covoiturage",
    "Save location": "Enregistrer l'emplacement",
    "Search address": "Rechercher une adresse",
    "Service fee": "Frais de service",
    "Sign in": "Se connecter",
    "Sign up": "S'inscrire",
    "Social login": "Connexion sociale",
    "Store name": "Nom du magasin",
    "Street number": "NumÃ©ro de rue",
    "Take away": "Ã€ emporter",
    "Tax included": "Taxe incluse",
    "Terms and conditions": "Termes et conditions",
    "Terms & Conditions": "Termes et conditions",
    "Total amount": "Montant total",
    "Total bill": "Facture totale",
    "Total order": "Commande totale",
    "Track order": "Suivre la commande",
    "Trip history": "Historique des trajets",
    "Update now": "Mettre Ã  jour maintenant",
    "User deleted": "Utilisateur supprimÃ©",
    "Valid until": "Valide jusqu'au",
    "Vehicle type": "Type de vÃ©hicule",
    "Verification code": "Code de vÃ©rification",
    "View all": "Voir tout",
    "View cart": "Voir le panier",
    "View details": "Voir les dÃ©tails",
    "View more": "Voir plus",
    "Voice search": "Recherche vocale",
    "Wallet amount": "Montant du portefeuille",
    "Wallet balance": "Solde du portefeuille",
    "Wallet payment": "Paiement par portefeuille",
    "Your order": "Votre commande",
}

def translate_text(text):
    """Traduit un texte anglais en franÃ§ais"""
    if not text:
        return text
    
    # Cas spÃ©ciaux dÃ©jÃ  traduits
    special_cases = {
        "Addons": "SupplÃ©ments",
        "Total Amount": "Montant total",
        "Add To Cart": "Ajouter au panier",
        "Item added to cart": "Article ajoutÃ© au panier",
        "Already Added in Cart": "DÃ©jÃ  ajoutÃ© au panier",
        "Out of Stock": "Rupture de stock",
        "My Cart": "Mon panier",
        "Removed from cart": "RetirÃ© du panier",
        "Enter Promo Code": "Entrez le code promo",
        "Delivery Option": "Option de livraison",
        "Home Delivery": "Livraison Ã  domicile",
        "Take Away": "Ã€ emporter",
        "Item Price": "Prix de l'article",
        "Vat/Tax": "TVA/Taxe",
        "Subtotal": "Sous-total",
        "Coupon Discount": "RÃ©duction du coupon",
        "Delivery Fee": "Frais de livraison",
        "Deliver To": "Livrer Ã ",
        "Place Order": "Passer commande",
        "My Orders": "Mes commandes",
        "Order ID": "ID de commande",
        "Track Order": "Suivre la commande",
        "Re-Order": "Recommander",
        "Privacy Policy": "Politique de confidentialitÃ©",
        "About Us": "Ã€ propos de nous",
        "Terms & Conditions": "Termes et conditions",
        "Help & Support": "Aide et support",
        "Type here.....": "Tapez ici.....",
        "Valid until": "Valide jusqu'au",
        "Are you sure want to logout?": "ÃŠtes-vous sÃ»r de vouloir vous dÃ©connecter?",
        "Guest Mode": "Mode invitÃ©",
        "Now you are in guest mode.\\nPlease login to enjoy the more awesome features.": "Vous Ãªtes maintenant en mode invitÃ©.\\nVeuillez vous connecter pour profiter de fonctionnalitÃ©s supplÃ©mentaires.",
        "Change something to update": "Changez quelque chose pour mettre Ã  jour",
        "View All": "Voir tout",
        "Your cart is empty": "Votre panier est vide",
        "No data found": "Aucune donnÃ©e trouvÃ©e",
        "You are not logged in": "Vous n'Ãªtes pas connectÃ©",
        "Login to Continue": "Connectez-vous pour continuer",
        "off on all categories": "de rÃ©duction sur toutes les catÃ©gories",
        "Set Location": "DÃ©finir l'emplacement",
        "Search address here": "Rechercher une adresse ici",
        "My Address": "Mon adresse",
        "Saved Address": "Adresse enregistrÃ©e",
        "Add New Address": "Ajouter une nouvelle adresse",
        "Delivery Address": "Adresse de livraison",
        "Add the location Correctly": "Ajoutez l'emplacement correctement",
        "Contact Person Name": "Nom de la personne de contact",
        "Contact Person Number": "NumÃ©ro de la personne de contact",
        "Label As": "Ã‰tiqueter comme",
        "Save Location": "Enregistrer l'emplacement",
        "Pick Address": "Choisir l'adresse",
        "Are you sure want to reset?": "ÃŠtes-vous sÃ»r de vouloir rÃ©initialiser?",
    }
    
    if text in special_cases:
        return special_cases[text]
    
    # Essayer une traduction simple mot Ã  mot
    result = text
    for eng, fr in translations.items():
        # Remplacer les mots entiers uniquement
        result = re.sub(r'\b' + re.escape(eng) + r'\b', fr, result, flags=re.IGNORECASE)
    
    return result

def main():
    # Charger le fichier anglais
    with open('assets/language/en.json', 'r', encoding='utf-8') as f:
        en_data = json.load(f)
    
    # Charger le fichier franÃ§ais existant
    with open('assets/language/fr.json', 'r', encoding='utf-8') as f:
        fr_data = json.load(f)
    
    # Traduire les clÃ©s manquantes
    count = 0
    for key, value in en_data.items():
        if key not in fr_data or fr_data[key] == value:
            # Traduire automatiquement
            translated = translate_text(value)
            fr_data[key] = translated
            count += 1
            print(f"Traduit: {key}: {value} -> {translated}")
    
    # Sauvegarder le fichier franÃ§ais mis Ã  jour
    with open('assets/language/fr.json', 'w', encoding='utf-8') as f:
        json.dump(fr_data, f, ensure_ascii=False, indent=2)
    
    print(f"\nâœ… Traduction terminÃ©e! {count} entrÃ©es traduites.")
    print(f"ğŸ“ Fichier sauvegardÃ©: assets/language/fr.json")

if __name__ == "__main__":
    main()
